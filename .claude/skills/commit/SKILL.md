---
name: commit
description: 今回の作業内容をまとめてコミットする
disable-model-invocation: true
---

今回の作業内容を確認し、コミットを作成してください。

## 引数

- 第1引数 (`$0`): `staged` / `s`（ステージ済みのみ）または 文字数
- 第2引数 (`$1`): 文字数（第1引数が `staged` / `s` の場合）

### 使用例

| コマンド | 動作 |
|---------|------|
| `/commit` | 変更をステージングしてコミット（200文字程度） |
| `/commit 300` | 変更をステージングしてコミット（300文字程度） |
| `/commit staged` | ステージ済みの変更のみコミット（200文字程度） |
| `/commit s` | ステージ済みの変更のみコミット（200文字程度） |
| `/commit staged 300` | ステージ済みの変更のみコミット（300文字程度） |
| `/commit s 400` | ステージ済みの変更のみコミット（400文字程度） |

## モード判定

以下のルールで動作モードを判定してください：

1. `$0` が `staged` または `s` の場合 → **ステージ済みのみモード**
   - 文字数は `$1` を使用（指定がなければ200文字程度）
2. `$0` が数字の場合 → **通常モード**（文字数指定あり）
3. `$0` が空または上記以外 → **通常モード**（200文字程度）

## コミットメッセージの要件

- 文字数: 上記のモード判定に従う
- 日本語で記述
- 作業内容を簡潔にまとめる
- 変更の目的や意図が伝わるように

## 手順

### 通常モード

1. `git status` と `git diff` で変更内容を確認
2. 変更内容を分析し、指定文字数程度のコミットメッセージを作成
3. 適切なファイルをステージング
4. コミットを実行

### ステージ済みのみモード

1. `git status` と `git diff --staged` でステージ済みの変更内容を確認
2. **ステージされていない変更は無視する**
3. ステージ済みの変更を分析し、指定文字数程度のコミットメッセージを作成
4. **追加のステージングは行わない**
5. コミットを実行
